(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{100:function(i,e,t){i.exports=t.p+"img/a7437243.png"},101:function(i,e,t){"use strict";var s=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{staticClass:"handle-bar",on:{click:function(e){return e.stopPropagation(),i.toggle()}}},[t("svg",{staticClass:"icon",attrs:{width:"1em",height:"1em",fill:"currentColor",t:"1602317390907",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7552"}},[t("path",{attrs:{d:"M605.824 513.536l335.68 338.304c24.704 24.96 24.704 65.28 0 90.176-24.704 24.896-64.768 24.896-89.472 0L471.616 558.656l0 0c0 0 0 0 0 0-18.496-18.688-23.168-46.08-13.888-69.056 3.072-7.68 7.744-14.912 13.952-21.12l380.352-383.424c24.704-24.96 64.768-24.96 89.472 0 24.704 24.96 24.704 65.28 0 90.24L605.824 513.536zM219.072 511.296l340.736 338.944c25.088 24.96 25.088 65.408 0 90.368-12.544 12.48-28.992 18.752-45.44 18.752-16.448 0-32.896-6.208-45.44-18.752L82.88 556.48l0 0c0 0 0 0 0 0C64 537.728 59.264 510.336 68.736 487.232c3.136-7.68 7.872-14.912 14.144-21.12l386.112-384.128c12.544-12.48 28.992-18.752 45.44-18.752 16.448 0 32.896 6.208 45.376 18.688 25.088 25.024 25.088 65.408 0 90.368L219.072 511.296z","p-id":"7553"}})])])};s._withStripped=!0;var n={methods:{toggle:function(){this.$emit("toggle")}}},a=t(6),r=Object(a.a)(n,s,[],!1,null,"b6a522ce",null);r.options.__file="src/component/handle-bar.vue";e.a=r.exports},102:function(i,e,t){"use strict";var s=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{staticClass:"image-slider-wrap"},[t("ul",{ref:"imageSlider",staticClass:"image-slider"},i._l(i.list,(function(e,s){return t("li",{key:s,attrs:{"data-index":s}},[t("img",{attrs:{src:e.origin,alt:""},on:{click:function(e){return i.display(e,s)}}})])})),0)])};s._withStripped=!0;var n=t(96).a,a=t(6),r=Object(a.a)(n,s,[],!1,null,"20ffddfe",null);r.options.__file="src/component/image-slider.vue";e.a=r.exports},83:function(i,e,t){"use strict";t.r(e);var s=function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("section",{staticClass:"ceremony"},[s("transition",{attrs:{name:"section"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:i.isCoverShow,expression:"isCoverShow"}],staticClass:"sec-1"},[s("div",{staticClass:"info",class:{show:i.isInfoShow}},[s("h3",[i._v(i._s(i.name[i.infoIndex]))]),i._v(" "),s("p",[i._v(i._s(i.info[i.infoIndex]))])]),i._v(" "),s("div",{staticClass:"cube"},i._l(i.cube,(function(e,t){return s("div",{key:t,class:t,attrs:{"data-content":e.name,"data-toggle":"popover"},on:{mouseover:function(t){return i.showInfo(e.index)},mouseleave:function(e){i.isInfoShow=!1},click:function(t){return i.enterVideo(e.index)}}},[s("video",{attrs:{preload:"metadata",muted:"",loop:"",autoplay:"","x5-video-player-type":"h5",playsinline:"true","webkit-playsinline":"true","x-webkit-airplay":"true","x5-video-orientation":"portraint","x5-video-player-fullscreen":"true"},domProps:{muted:!0}},[s("source",{attrs:{src:e.src}})])])})),0)])]),i._v(" "),s("transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:!i.isCoverShow,expression:"!isCoverShow"}],staticClass:"sec-2"},[s("transition-group",{attrs:{name:"slide-toggle"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:0===i.slideIndex,expression:"slideIndex === 0"}],key:0,staticClass:"slide"},[s("div",{staticClass:"main-wrap"},[s("list-group",{staticClass:"left-part text-center",class:{active:i.isListActive},attrs:{title:"仪式环节",callback:i.listHandler,list:i.segmentTextList,index:i.listIndex},on:{click:function(e){i.isListActive=!1},active:i.skipVideo}},[s("handle-bar",{staticClass:"bar-rotate",class:{active:i.isListActive},on:{toggle:function(e){i.isListActive=!i.isListActive}}})],1),i._v(" "),s("div",{staticClass:"center-part"},[s("div",{staticClass:"trigger",on:{click:i.backTop}},[s("img",{attrs:{src:t(99),alt:""}})]),i._v(" "),s("video-player",{attrs:{options:i.videoOptions,callback:i.videoHandler}})],1),i._v(" "),s("div",{staticClass:"right-part",class:{active:i.isSliderActive}},[s("div",{staticClass:"trigger",class:{shake:i.isTriggerShake},on:{click:i.toggleSlider}},[s("img",{attrs:{src:t(100),alt:""}})]),i._v(" "),s("image-slider",{class:{shake:i.isFactorShake},attrs:{list:i.element[i.index],callback:i.sliderHandler},on:{display:i.showMore}})],1)],1)]),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1===i.slideIndex,expression:"slideIndex === 1"}],key:1,staticClass:"slide"},[s("div",{staticClass:"factor-wrap"},[s("div",{staticClass:"back-to-video"},[s("handle-bar",{staticClass:"bar-shake",on:{toggle:i.backVideo}})],1),i._v(" "),s("div",{staticClass:"card-wrap"},[s("div",{staticClass:"card",class:{active:i.isCardActive}},[s("img",{staticClass:"origin",attrs:{src:i.currentElement.origin,alt:"",draggable:"false"}}),i._v(" "),s("img",{staticClass:"factor",style:i.currentElement.style,attrs:{src:i.currentElement.factor,alt:"",draggable:"false"},on:{click:function(e){i.isCardActive=!0}}}),i._v(" "),s("div",{staticClass:"card-back",on:{click:function(e){i.isCardActive=!1}}},[s("img",{staticClass:"paint",attrs:{src:i.currentElement.paint,alt:"",draggable:"false"}}),i._v(" "),s("div",{staticClass:"text-content"},[s("h3",{staticClass:"name"},[i._v(i._s(i.currentElement.name))]),i._v(" "),s("p",{staticClass:"info"},[i._v(i._s(i.currentElement.info))])])])])])])])])],1)])],1)};s._withStripped=!0;var n=t(95).a,a=t(6),r=Object(a.a)(n,s,[],!1,null,"7c1bb9e6",null);r.options.__file="src/view/ceremony/index.vue";e.default=r.exports},95:function(i,e,t){"use strict";(function(i){var s=t(7),n=t(41),a=t(101),r=t(25),l=t(102),o=s.a.ceremony;e.a={data:function(){return{index:0,infoIndex:0,slideIndex:0,elementIndex:0,listIndex:-1,isCoverShow:!0,isInfoShow:!1,isListActive:!1,isSliderActive:!1,isCardActive:!1,isFactorShake:!1,isTriggerShake:!1,name:o.name,info:o.info,cube:o.cube,segment:o.segment,element:o.element,imageSlider:null,videoPlayer:null,videoOptions:{fill:!0,controls:!0,controlBar:{pictureInPictureToggle:!1},sources:[{src:o.video[0],type:"video/mp4"}]}}},methods:{showInfo:function(i){this.isInfoShow=!0,this.infoIndex=i},toggleSlider:function(){this.isSliderActive=!this.isSliderActive,this.isListActive=!1},backTop:function(){var i;this.isCoverShow=!0,this.isListActive=!1,this.isSliderActive=!1,null===(i=this.player)||void 0===i||i.pause()},enterVideo:function(i){var e,t;this.index!==i&&(this.index=i,this.listIndex=-1,null===(t=this.player)||void 0===t||t.src(o.video[i]));null===(e=this.player)||void 0===e||e.play(),this.isCoverShow=!1,s.a.hideNavbar()},showMore:function(i){var e;this.slideIndex=1,this.elementIndex=i,null===(e=this.player)||void 0===e||e.pause(),this.isFactorShake=!1},backVideo:function(){var i;this.isCardActive=!1,this.slideIndex=0,null===(i=this.player)||void 0===i||i.play()},skipVideo:function(i){var e;this.listIndex=i,null===(e=this.player)||void 0===e||e.currentTime(this.segmentTimePoints[i])},updateTime:function(){var i,e=this,t=Math.floor(null===(i=this.player)||void 0===i?void 0:i.currentTime()),s=this.segmentTimePoints.indexOf(t);-1!=s&&(this.listIndex=s);var n=this.elementTimePoints.indexOf(t);-1!=n&&(this.isFactorShake=!0,this.isTriggerShake=!0,setTimeout((function(){e.isTriggerShake=!1}),3e3),this.imageSlider.slide(n-this.imageSlider.children(":nth-child(4)").attr("data-index")))},videoHandler:function(i){var e;this.player=i,null===(e=this.player)||void 0===e||e.on("timeupdate",s.a.debounce(this.updateTime,950))},listHandler:function(){},sliderHandler:function(i){this.imageSlider=i}},computed:{currentElement:function(){return this.element[this.index][this.elementIndex]},segmentTextList:function(){return this.segment[this.index].map((function(i){return i.text}))},segmentTimePoints:function(){return this.segment[this.index].map((function(i){return i.time}))},elementTimePoints:function(){return this.element[this.index].map((function(i){return i.time}))}},components:{ListGroup:n.default,HandleBar:a.a,VideoPlayer:r.a,ImageSlider:l.a},mounted:function(){s.a.goto(2);var e=i(window),t=e.height()/2,n=e.width()/2;if(n>=640){var a=i(".ceremony .sec-1");a.on("mousemove",(function(i){a.css("perspective-origin","".concat(i.clientX-n,"px ").concat(i.clientY-t,"px"))}))}}}}).call(this,t(40))},96:function(i,e,t){"use strict";(function(i){e.a={data:function(){return{slider:null,median:3}},props:{list:{type:Array,default:function(){return[]}},callback:{type:Function,default:function(){return null}}},methods:{display:function(i,e){var t=this.slider.find("img").index(i.target);t<this.median?this.slider.slide(-1):t==this.median?this.$emit("display",e):this.slider.slide(1)}},mounted:function(){this.slider=i(this.$refs.imageSlider),this.slider.slide=function(i){if(i<0)for(;i++<0;)this.prepend(this.children(":last"));else for(;i-- >0;)this.append(this.children(":first"))},this.callback&&this.callback(this.slider)}}}).call(this,t(40))},99:function(i,e,t){i.exports=t.p+"img/7563e06d.png"}}]);